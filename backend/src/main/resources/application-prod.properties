spring.application.name=food-ordering

# =============================================
# DATABASE — CockroachDB / PostgreSQL (hosted)
# Set DATABASE_URL in your environment / Render
# Format: postgresql://<user>:<password>@<host>/<db>?sslmode=require
# =============================================
spring.datasource.url=${DATABASE_URL}
spring.datasource.driverClassName=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# CockroachDB quirks — disable sequences in favour of UUID
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=5

# =============================================
# REDIS — Render Redis (optional, enable when ready)
# Set REDIS_URL in your environment
# =============================================
spring.data.redis.url=${REDIS_URL:redis://localhost:6379}
spring.cache.type=redis

# =============================================
# ELASTICSEARCH — Bonsai.io or Elastic Cloud
# Set ELASTICSEARCH_URL in your environment
# =============================================
spring.data.elasticsearch.repositories.enabled=true
spring.elasticsearch.uris=${ELASTICSEARCH_URL:http://localhost:9200}

# =============================================
# CORS — set FRONTEND_URL to your Vercel domain
# e.g. https://fooddash.vercel.app
# =============================================
app.cors.allowed-origin=${FRONTEND_URL:http://localhost:5173}

# Server
server.port=${PORT:8080}
