spring.application.name=food-ordering

# Spring Boot requires JDBC URLs, Usernames, and Passwords to be separate.
# We will set these directly in Render as SPRING_DATASOURCE_URL, etc.
# =============================================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driverClassName=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# PostgreSQL Standard Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=5

# =============================================
# REDIS — Render Redis (optional, enable when ready)
# Set REDIS_URL in your environment
# =============================================
spring.data.redis.url=${REDIS_URL:redis://localhost:6379}
spring.cache.type=none

# =============================================
# ELASTICSEARCH — Bonsai.io or Elastic Cloud
# Set ELASTICSEARCH_URL in your environment
# =============================================
spring.data.elasticsearch.repositories.enabled=${ENABLE_ELASTICSEARCH:false}
spring.elasticsearch.uris=${ELASTICSEARCH_URL:http://localhost:9200}

# =============================================
# CORS — set FRONTEND_URL to your Vercel domain
# e.g. https://fooddash.vercel.app
# =============================================
app.cors.allowed-origin=${FRONTEND_URL:http://localhost:5173}

# Server
server.port=${PORT:8080}

# Spring Mail Configuration (SMTPS Port 465 for Cloud compatibility)
spring.mail.host=smtp.gmail.com
spring.mail.port=465
spring.mail.username=${SPRING_MAIL_USERNAME:harshbohra2208@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtps.auth=true
spring.mail.properties.mail.smtps.ssl.enable=true
spring.mail.properties.mail.smtps.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtps.connectiontimeout=10000
spring.mail.properties.mail.smtps.timeout=10000
spring.mail.properties.mail.smtps.writetimeout=10000
spring.mail.properties.mail.debug=true
# Use smtps protocol explicitly for port 465
spring.mail.protocol=smtps

# Twilio Configuration
twilio.account.sid=${TWILIO_ACCOUNT_SID:ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx}
twilio.auth.token=${TWILIO_AUTH_TOKEN:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx}
twilio.verify.service.sid=${TWILIO_VERIFY_SERVICE_SID:VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx}
